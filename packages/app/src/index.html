<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Hello World!</title>
    <link rel="stylesheet" href="index.css" />
  </head>
  <body>
    <h1>ğŸ’– Hello World!</h1>
    <p>Welcome to your Electron application.</p>
    <button id="btnHello">è°ƒç”¨ sayHello</button>
    <button id="btnNativeHello">è°ƒç”¨ nativeHello</button>
    <button id="btnCreateEngine">è°ƒç”¨ createEngine</button>
    <button id="btnConnect">è°ƒç”¨ connect</button>
    <p id="result" style="margin-top: 1rem; font-weight: bold;"></p>
    <script>
      const btn = document.getElementById('btnHello');
      const btnCb = document.getElementById('btnHelloCb');
      const result = document.getElementById('result');
      const btnNative = document.getElementById('btnNativeHello');
      const btnCreateEngine = document.getElementById('btnCreateEngine');
      const btnConnect = document.getElementById('btnConnect');
      btn.addEventListener('click', async () => {
        if (!window.sdk || typeof window.sdk.sayHello !== 'function') {
          result.textContent = 'SDK ä¸å¯ç”¨';
          return;
        }
        try {
          const msg = await window.sdk.sayHello('Electron');
          result.textContent = msg;
        } catch (err) {
          console.error(err);
          result.textContent = 'SDK è°ƒç”¨å¤±è´¥';
        }
      });
      
      btnNative.addEventListener('click', async () => {
        if (!window.sdk || typeof window.sdk.nativeHello !== 'function') {
          result.textContent = 'SDK ä¸å¯ç”¨';
          return;
        }
        try {
          const msg = await window.sdk.nativeHello('Electron');
          result.textContent = msg;
        } catch (err) {
          console.error(err);
          result.textContent = 'SDK è°ƒç”¨å¤±è´¥';
        }
      });

      btnCreateEngine.addEventListener('click', async () => {
        if (!window.sdk || typeof window.sdk.createEngine !== 'function') {
          result.textContent = 'SDK ä¸å¯ç”¨';
          return;
        }
        try {
          await window.sdk.createEngine();
          result.textContent = 'createEngine è°ƒç”¨å®Œæˆï¼ˆè¯·æŸ¥çœ‹ä¸»è¿›ç¨‹æ—¥å¿—ï¼‰';
        } catch (err) {
          console.error(err);
          result.textContent = 'SDK è°ƒç”¨å¤±è´¥';
        }
      });

      btnConnect.addEventListener('click', async () => {
        if (!window.sdk || typeof window.sdk.connect !== 'function') {
          result.textContent = 'SDK ä¸å¯ç”¨';
          return;
        }
        try {
          await window.sdk.connect();
          result.textContent = 'connect è°ƒç”¨å®Œæˆ';
        } catch (err) {
          console.error(err);
          result.textContent = 'SDK è°ƒç”¨å¤±è´¥';
        }
      });
    </script>
  </body>
</html>
